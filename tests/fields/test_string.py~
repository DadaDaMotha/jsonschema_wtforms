import hamcrest
import wtforms.fields
import wtforms.validators
import jsonschema_wtforms.validators
from jsonschema_wtforms.field import Field


def test_length():
    constraints = Field('test', required=False, {
        "minLength": 2,
        "maxLength": 3
    })
    hamcrest.assert_that(constraints, hamcrest.has_entries({
        'validators': hamcrest.contains_exactly(
            hamcrest.instance_of(wtforms.validators.Optional),
            hamcrest.instance_of(wtforms.validators.Length)
        ),
    }))
